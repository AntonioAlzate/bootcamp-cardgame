{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListGameComponent = class ListGameComponent {\n  constructor(api, router, auth, socket) {\n    this.api = api;\n    this.router = router;\n    this.auth = auth;\n    this.socket = socket;\n    this.uid = \"\";\n    this.uid = JSON.parse(localStorage.getItem('user')).uid;\n    this.api.getMisJuegos(this.uid).subscribe(juegos => {\n      this.juegos = juegos;\n    });\n  }\n\n  ngOnInit() {}\n\n  ngOnDestroy() {\n    this.socket.close();\n  }\n\n  joinGame(id) {\n    this.router.navigate(['board', id]);\n  }\n\n  showName(data) {\n    return data.alias;\n  }\n\n  startGame(id) {\n    this.socket.open(id);\n    this.socket.listener(event => {\n      if (event.type == \"cardgame.tablerocreado\") {\n        this.api.crearRonda({\n          juegoId: id,\n          tiempo: 80,\n          jugadores: event.jugadorIds.map(it => it.uuid)\n        }).subscribe();\n      }\n\n      if (event.type == 'cardgame.rondacreada') {\n        this.router.navigate(['board', id]);\n      }\n    });\n    this.api.iniciarJuego({\n      juegoId: id\n    }).subscribe();\n  }\n\n};\nListGameComponent = __decorate([Component({\n  selector: 'app-list-game',\n  templateUrl: './list-game.component.html',\n  styleUrls: ['./list-game.component.scss']\n})], ListGameComponent);\nexport { ListGameComponent };","map":null,"metadata":{},"sourceType":"module"}